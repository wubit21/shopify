<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Model Section with Video Background</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

   

    <style>
        /* Full-screen video background inside a section */
        video#bgVideo {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1; /* Place the video behind other content */
        }

        /* Ensure body and html take up full height */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }

        /* Canvas should stay on top of the video */
        canvas {
            position: relative;
            z-index: 1;
        }
    </style>

 <!-- Three.js and GLTFLoader CDN -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <!-- Section with Video Background and Flexbox Layout -->
    <section class="relative w-full h-screen flex flex-col md:flex-row">
        <!-- Background Video -->
        <video id="bgVideo" autoplay loop muted>
            <source src="starvid.mp4" type="video/mp4">
            Your browser does not support HTML5 video.
        </video>

        <!-- Left Side: 3D Model (75% on larger screens) -->
        <div class="flex-1 md:w-3/4 h-full flex items-center justify-center -mt-24  mt-4">
            <canvas id="sofaCanvas" class="w-full h-auto max-w-[75%] max-h-[85%] md:max-h-[80%] md:-mt-32"></canvas>


        </div>
        
        
        
        
        
        
        
        
        

        <!-- Right Side: Content (25% on larger screens) -->
        <div class="md:w-1/4  bg-opacity-75 text-white p-4 flex items-center justify-center">
            <div class="text-left">
                <h1 class="text-3xl font-bold mb-4">Rock steady and blazing fast</h1>
                <p class="mb-4">Shopify puts your store within 50 milliseconds of every shopper on the planet, with the capacity to handle even the most epic product drops.</p>
                
            </div>
        </div>
    </section>

    <script>
        // Initialize Three.js
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    
        // Renderer with transparent background
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('sofaCanvas'), antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x000000, 0);  // Transparent background
    
        // Add lighting to make the model visible
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        const pointLight = new THREE.PointLight(0xffffff, 1);
        pointLight.position.set(10, 10, 10);
        scene.add(pointLight);
    
        // Add controls for rotating/zooming
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableZoom = false;  // Disable zoom functionality
        // Set camera initial position
        camera.position.set(0, 40, 90);
    
        // Load the 3D model using GLTFLoader
        const loader = new THREE.GLTFLoader();
        const modelUrl = 'earth.glb'; // Replace with your model URL
    
        loader.load(modelUrl, (gltf) => {
            const model = gltf.scene;
            scene.add(model);
            model.position.set(0, -1, 0);  // Position the model
    
            // Function to adjust model scale based on screen size
            function resizeModel() {
                const screenWidth = window.innerWidth;
                if (screenWidth >= 768) {
                    // Large screens (e.g. tablets/desktops)
                    model.scale.set(0.53, 0.53, 0.53);  // Larger scale
                } else {
                    // Small screens (e.g. mobile devices)
                    model.scale.set(0.3, 0.3, 0.3);  // Smaller scale
                }
            }
    
            // Call resizeModel initially to apply the correct scale
            resizeModel();
    
            // Listen for window resizing and adjust model scale accordingly
            window.addEventListener('resize', resizeModel);
        }, undefined, (error) => {
            console.error('An error occurred loading the model:', error);
        });
    
        // Responsive canvas resizing
        window.addEventListener('resize', () => {
            const width = window.innerWidth;
            const height = window.innerHeight;
            renderer.setSize(width, height);
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
        });
    
        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        animate();
    </script>
    

</body>
</html>
